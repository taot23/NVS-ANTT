servidorvoipnvs@app-licenca:/opt/vendas-app/nvs-antt2$ # Verificar se o usuário admin existe com a senha correta no banco
psql -h localhost -U nvsantt -d vendas_db -c "SELECT username, password FROM users WHERE username = 'admin';"

# Se a senha estiver com hash diferente, vamos resetá-la
node -e "
const bcrypt = require('bcrypt');
bcrypt.hash('admin123', 10).then(hash => console.log('Nova senha hash:', hash));
"

# Verificar os logs da aplicação para ver o erro exato
pm2 logs vendas-sistema-final --lines 5
Password for user nvsantt: 
node:internal/modules/cjs/loader:1215
  throw err;
  ^

Error: Cannot find module 'bcrypt'
Require stack:
- /opt/vendas-app/nvs-antt2/[eval]
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at [eval]:2:16
    at runScriptInThisContext (node:internal/vm:209:10)
    at node:internal/process/execution:118:14
    at [eval]-wrapper:6:24
    at runScript (node:internal/process/execution:101:62)
    at evalScript (node:internal/process/execution:133:3) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [ '/opt/vendas-app/nvs-antt2/[eval]' ]
}

Node.js v20.19.2

[TAILING] Tailing last 5 lines for [vendas-sistema-final] process (change the value with --lines option)
/home/servidorvoipnvs/.pm2/logs/vendas-sistema-final-error.log last 5 lines:
30|vendas- | 2:25:56 AM [vite] Pre-transform error: Failed to load url /src/main.tsx?v=AhUFv69BRmilw3n5jAZa6 (resolved id: /src/main.tsx?v=AhUFv69BRmilw3n5jAZa6). Does the file exist?
30|vendas- | 2:25:58 AM [vite] Pre-transform error: Failed to load url /src/main.tsx?v=lEtf0y4gGSzUMrC2yIhSN (resolved id: /src/main.tsx?v=lEtf0y4gGSzUMrC2yIhSN). Does the file exist?

/home/servidorvoipnvs/.pm2/logs/vendas-sistema-final-out.log last 5 lines:
30|vendas- | 2:25:39 AM [express] POST /api/login 401 in 115ms
30|vendas- | 2:25:57 AM [websocket] WebSocket configurado no caminho /ws
30|vendas- | 2:25:57 AM [express] serving on port 5001
30|vendas- | 2:25:59 AM [websocket] WebSocket configurado no caminho /ws
30|vendas- | 2:25:59 AM [express] serving on port 5001

^C
servidorvoipnvs@app-licenca:/opt/vendas-app/nvs-antt2$ 